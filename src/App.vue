<script setup lang="ts">
import { differenceInCalendarDays } from "date-fns";
import particleOptions from "./assets/config/particles.json";
import { ref } from "vue";

const message = "L·ªùi Ch√∫c T·ª´ Nh·ªØng Tr√°i Cam ƒê√°ng Y√™u ü•∞"

const showSubmitMsg = ref(false);
const submit = (e: any) => {
  e.preventDefault();
  const wish = e.target[0].value;
  const url = "https://message-box-znwn.shuttle.app/send"; 
  fetch(url, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      msg: wish,
    }),
  })
    .then((response) => {
      if (response.ok) {
        console.log("Wish sent successfully");
        showSubmitMsg.value = true;
      } else {
        console.error("Error sending wish");
      }
    })
    .catch((_) => {
      console.error("Error sending wish");
    });
};
</script>

<template>
  <vue-particles
    id="tsparticles-bday"
    :options="particleOptions"
    class="pointer-events-none"
  />
  <section
    class="relative z-10 flex min-h-screen w-full items-center justify-center px-4 py-12"
    id="section-birthday"
  >
    <div class="flex h-fit w-full flex-row items-center gap-8 max-md:flex-col">
      <div
        class="flex h-full w-full flex-col items-center self-stretch rounded-md border-2 border-orange-300 bg-orange-200 p-8 text-center md:max-w-2/3"
      >
        <h1 class="mb-4 text-xl font-semibold">{{ message }}</h1>
        <span class="flex flex-col gap-2 text-justify">
          <p>
            hehe, ch√∫c m·ª´ng 2 ch·ªã ƒë√£ ch√≠nh th·ª©c k·∫øt th√∫c h√†nh tr√¨nh sinh vi√™n ƒë·∫ßy k·ªâ ni·ªám, b∆∞·ªõc v√†o h√†nh tr√¨nh th·∫•t nghi·ªáp ƒë·∫ßy k·ªãch t√≠nh‚ù§Ô∏è‚ù§Ô∏è
          </p>
          <p>
            L√° th∆∞ n√†y l√† l·ªùi c·∫£m ∆°n c·ªßa BCM th·∫ø h·ªá th·ª© 22 g·ª≠i t·ªõi 2 ch·ªã.
          </p>
          <p>
            Ch√∫ng em c√°m ∆°n 2 ch·ªã ƒë√£ ƒë·ªìng h√†nh c√πng ch√∫ng em t·ª´ nh·ªØng b∆∞·ªõc ch√¢n ƒë·∫ßu v√†o ƒë·∫°i h·ªçc.
          </p>
          <p>
            C√°m ∆°n 2 ch·ªã v√¨ ƒë√£ mang t·ªõi 1 m√¥i tr∆∞·ªùng BCM ƒë·∫ßy ni·ªÅm vui. 
          </p>
          <p>
            C√°m ∆°n 2 ch·ªã lu√¥n quan t√¢m v√† b·∫£o v·ªá ban trong su·ªët nhi·ªám k√¨.
          </p>
          <p>
            V√†, c√°m ∆°n 2 ch·ªã v√¨ ƒë√£ ·ªü ƒë√¢y t·ªõi th·ªùi ƒëi·ªÉm hi·ªán t·∫°i, c√πng ch√∫ng em b∆∞·ªõc ti·∫øp‚ù§Ô∏è
          </p>
          <p>
            T∆∞∆°ng lai th√¨ kh√¥ng n√≥i tr∆∞·ªõc ƒë∆∞·ª£c, nh∆∞ng b·ªçn em tin l√† v·ªõi nh·ªØng g√¨ 2 ch·ªã ƒë√£ v√† ƒëang c·ªë g·∫Øng, ch·∫Øc ch·∫Øn s·∫Ω c√≥ ƒë∆∞·ª£c nh·ªØng th√†nh c√¥ng x·ª©ng ƒë√°ng v·ªõi n·ªó l·ª±c c·ªßa m√¨nh.
          </p>
          <p>
            Bi·∫øt ∆°n v√† tr√¢n tr·ªçng.
          </p>

          <div class="flex flex-col items-center self-end pr-8">
            <img
              src="./assets/yec.jpg"
              alt="oiia"
              class="object-fit h-20 w-20"
            />
            <p class="font-writing-italic">Ban Chuy√™n M√¥n 22nd üçä</p>
          </div>
        </span>
      </div>
      <div
        class="flex h-auto w-full flex-col items-center gap-4 self-stretch rounded-md border-2 border-orange-300 bg-orange-200 p-8 text-center md:max-w-1/3"
      >
        <h1 class="text-xl font-semibold">G·ª≠i l·ªùi nh·∫Øn c·ªßa c√°c ch·ªã v√†o ƒë√¢y</h1>
        <form
          v-on:submit.prevent
          @submit="submit"
          class="flex h-full min-h-40 w-full grow flex-col gap-4"
        >
          <textarea
            class="h-full w-full grow resize-none rounded-md border-2 border-orange-300 bg-orange-100 p-2"
            placeholder=""
          ></textarea>
          <button
            type="submit"
            class="mt-2 cursor-pointer rounded-md bg-orange-300 p-2"
          >
            G·ª≠i l·ªùi nh·∫Øn
          </button>
          <p v-show="showSubmitMsg" class="font-writing-italic">
            Ch√∫ng em nh·∫≠n ƒë∆∞·ª£c r·ªìi ·∫°, c·∫£m ∆°n c√°c ch·ªã ‚ù§Ô∏è
          </p>
        </form>
      </div>
    </div>
  </section>
</template>
